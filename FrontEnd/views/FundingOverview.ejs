<%- include('partials/appheader') %>

<main style="padding: 2rem; font-family: 'Segoe UI', sans-serif; background-color: #090b0d; min-height: 100vh;">
  <section style="max-width: 900px; margin: auto; background-color: #a1a1b6; border-radius: 1.25rem; padding: 2.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.05);">
    
    <header style="margin-bottom: 2rem;">
      <h2 style="font-size: 2.5rem; font-weight: 700; color: #2c3e50;">ğŸ“Š Funding Overview</h2>
      <p style="font-size: 1.2rem; color: #fff9f9;">Hereâ€™s a summary of your current project funding.</p>
    </header>

    <% if (funding) { %>
      <article style="font-size: 1.1rem; line-height: 1.6;">
        
        <p><strong>ğŸ“Œ Project Name:</strong><br>
        <span style="color: #333;"><%= funding.title %></span></p>

        <p><strong>ğŸ’¼ Funding Source:</strong><br>
        <span style="color: #333;"><%= funding.source %></span></p>

        <p><strong>ğŸ’° Total Amount:</strong><br>
        <span style="color: #27ae60;">R<%= funding.totalAmount.toLocaleString(undefined, { minimumFractionDigits: 2 }) %></span></p>

        <p><strong>ğŸ“‰ Total Amount Spent:</strong><br>
        <span style="color: #e74c3c;">R<%= totalSpent.toLocaleString(undefined, { minimumFractionDigits: 2 }) %></span></p>

        <p><strong>ğŸ“ˆ Remaining Budget:</strong><br>
        <span style="color: #2980b9;">R<%= remaining.toLocaleString(undefined, { minimumFractionDigits: 2 }) %></span></p>

        <p><strong>ğŸ—“ï¸ Funding Period:</strong><br>
        <span style="color: #333;">
          <%= new Date(funding.startDate).toLocaleDateString('en-ZA', { year: 'numeric', month: 'long' }) %> â€“
          <%= new Date(funding.endDate).toLocaleDateString('en-ZA', { year: 'numeric', month: 'long' }) %>
        </span></p>

        <p><strong>ğŸ”– Status:</strong><br>
        <span style="color: #27ae60;">ğŸŸ¢ Active</span></p>

        <p><strong>ğŸ“Š Usage Progress:</strong></p>
        <progress value="<%= totalSpent %>" max="<%= funding.totalAmount %>" style="width: 100%; height: 20px; margin-bottom: 0.5rem;"></progress>
        <p style="text-align: right; font-size: 0.95rem; color: #555;"><%= percentUsed %>% used</p>
      </article>
    <% } else { %>
      <p style="color: #999;">No funding data found. Please submit your funding information first.</p>
    <% } %>

    <section style="margin-top: 2.5rem;">
      <h3 style="font-size: 1.3rem; color: #444;">ğŸ“ Notes</h3>
      <p style="color: #0d0b0b;">This data is pulled live from the database. Make sure funding is submitted before visiting this page.</p>
    </section>

  </section>
</main>

<%- include('partials/footer') %>
